<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <meta name="dcterms.date" content="2025-06-24">
  <title>🎶 Path Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-2c68d4e54d35810038446c33f7c9eae0.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../site_libs/quarto-diagram/mermaid.min.js"></script>
  <script src="../site_libs/quarto-diagram/mermaid-init.js"></script>
  <link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">🎶 Path Analysis</h1>

<div class="quarto-title-authors">
</div>

  <p class="date">2025-06-24</p>
</section>
<section id="what-are-path-diagrams" class="slide level2">
<h2>What are Path Diagrams?</h2>
<p>Path diagrams are visual depictions of the hypothesized relationships between a set of variables. In this set of notes, we will introduce some of the ideas and concepts related to path diagrams, and the estimation of effects depicted in a path diagram (i.e., path analysis).</p>
<ul>
<li><a href="https://raw.githubusercontent.com/zief0002/redesigned-adventure/main/scripts/03-02-path-analysis.R">[R Script File]</a></li>
</ul>
</section>
<section id="example" class="slide level2">
<h2>Example</h2>
<p>To help us in this endeavor, we will consider three potential student-level variables for our path model:</p>
<ul>
<li>Achievement</li>
<li>Academic Ability</li>
<li>Motivation</li>
</ul>
</section>
<section id="simulating-data" class="slide level2">
<h2>Simulating Data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># Load Libraries</span></span>
<span id="cb1-2"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(broom)</span>
<span id="cb1-4"><a></a><span class="fu">library</span>(corrr)</span>
<span id="cb1-5"><a></a></span>
<span id="cb1-6"><a></a><span class="co"># Create correlation matrix</span></span>
<span id="cb1-7"><a></a>corrs <span class="ot">=</span> <span class="fu">matrix</span>(</span>
<span id="cb1-8"><a></a>  <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb1-9"><a></a>    <span class="fl">1.000</span>, <span class="fl">0.737</span>, <span class="fl">0.255</span>,</span>
<span id="cb1-10"><a></a>    <span class="fl">0.737</span>, <span class="fl">1.000</span>, <span class="fl">0.205</span>,</span>
<span id="cb1-11"><a></a>    <span class="fl">0.255</span>, <span class="fl">0.205</span>, <span class="fl">1.000</span></span>
<span id="cb1-12"><a></a>  ),</span>
<span id="cb1-13"><a></a>  <span class="at">nrow =</span> <span class="dv">3</span></span>
<span id="cb1-14"><a></a>)</span>
<span id="cb1-15"><a></a></span>
<span id="cb1-16"><a></a><span class="co"># Create mean vector</span></span>
<span id="cb1-17"><a></a>means <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) </span>
<span id="cb1-18"><a></a></span>
<span id="cb1-19"><a></a><span class="co"># Set sample size</span></span>
<span id="cb1-20"><a></a>n <span class="ot">=</span> <span class="dv">1000</span>           </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="simulating-data-cntd." class="slide level2">
<h2>Simulating Data (cntd.)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="co"># Make simulation reproducible</span></span>
<span id="cb2-2"><a></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb2-3"><a></a></span>
<span id="cb2-4"><a></a></span>
<span id="cb2-5"><a></a><span class="co"># Simulate the data and convert to data frame</span></span>
<span id="cb2-6"><a></a>sim_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(MASS<span class="sc">::</span><span class="fu">mvrnorm</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">mu =</span> means, <span class="at">Sigma =</span> corrs, <span class="at">empirical =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a></a>  <span class="fu">rename</span>(</span>
<span id="cb2-8"><a></a>    <span class="at">achievement =</span> X1,</span>
<span id="cb2-9"><a></a>    <span class="at">ability =</span> X2, </span>
<span id="cb2-10"><a></a>    <span class="at">motivation =</span> X3</span>
<span id="cb2-11"><a></a>  )</span>
<span id="cb2-12"><a></a></span>
<span id="cb2-13"><a></a></span>
<span id="cb2-14"><a></a><span class="co"># View simulated data</span></span>
<span id="cb2-15"><a></a><span class="fu">head</span>(sim_dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  achievement    ability motivation
1  0.33527960 -0.1297477  1.4114639
2  0.99197530 -0.3813547  1.2637617
3 -0.70788322  0.6913426 -0.5557938
4 -0.87083130 -1.3095554 -1.1570792
5 -0.05935273 -0.2583549 -0.1541515
6  0.38943125  1.4254429 -0.6394095</code></pre>
</div>
</div>
</section>
<section id="reading-a-path-diagram" class="slide level2">
<h2>Reading a Path Diagram</h2>
<p>In a path diagram,</p>
<ul>
<li>Variables we have data on (i.e., manifest or measured variables) are represented by squares or rectangles.</li>
<li>Lines between the variables indicate a relationship between the two connected variables. The lines between the different variables are called paths.
<ul>
<li>If the path has an arrowhead on both sides, it indicates the two connected variables are related (i.e., correlated).</li>
<li>If the path has an arrowhead on only one side, it indicates a hypothesized causal relationship. The cause is in the direction of the arrow; that is, the hypothesized cause is at the butt end of the line, while the hypothesized effect is at the arrowhead side of the line.</li>
</ul></li>
</ul>
</section>
<section id="reading-a-path-diagram-cntd." class="slide level2">
<h2>Reading a Path Diagram (cntd.)</h2>

<img data-src="../img/path-analysis-notes/10-symbols.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section id="two-example-path-diagrams" class="slide level2">
<h2>Two Example Path Diagrams</h2>
<div class="columns">
<p>In both of the examples below, there are three manifest/measured variables (academic ability, motivation, and achievement) and three paths (p1, p2, and p3). The difference between the two is that in the right-hand diagram, there are hypothesized causal relationships, while in the left-hand diagram the relationships are not presumed to be causal.</p><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/01-correlation-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="path-diagram-1" class="slide level2">
<h2>Path Diagram 1</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/01-correlation-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>The model depicted in this path diagram posits that there are relationships between:</p>
<ul>
<li>Academic ability and achievement (p1);</li>
<li>Academic ability and motivation (p2); and</li>
<li>Motivation and achievement (p3).</li>
</ul>
<p>The double-headed arrows on the paths indicate that the variables are related (i.e., correlated), although there is no causal direction hypothesized.</p>
</div></div>
</section>
<section id="estimating-path-coefficients-in-path-diagram-1" class="slide level2">
<h2>Estimating Path Coefficients in Path Diagram 1</h2>
<div class="columns">
<p>In a path analysis, one goal is to estimate path coefficients. In this model, since the paths represent the relationship between two variables, the path coefficients are simply the bivariate correlations between each set of variables.</p><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="co"># Compute correlations</span></span>
<span id="cb4-2"><a></a>sim_dat <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a></a>  <span class="fu">correlate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  term        achievement ability motivation
  &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;
1 achievement      NA       0.737      0.255
2 ability           0.737  NA          0.205
3 motivation        0.255   0.205     NA    </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/02-correlation-path-values.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="weak-causal-ordering" class="slide level2">
<h2>Weak Causal Ordering</h2>
<p>In path modeling, we often assert <em>weak causal ordering</em> on the variables in the model. With weak causal ordering, we are not saying <em>X</em> causes <em>Y</em>, but rather that <em>if</em> <em>X</em> and <em>Y</em> are casually related, one of these variables (typically <em>X</em>) is the cause of the other.</p>
<div class="cell" data-reveal="true" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  A[X] --&gt; B[Y]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>In this model, the paths have arrows at only one end indicating the hypothesized causal relationship. The cause is in the direction of the arrow, that is the hypothesized cause is at the butt end of the line, while the hypothesized effect is at the arrowhead side of the line.</p>
<blockquote>
<p>Any weak causal model should be posited prior to collecting or looking at the data! Creating this model can also help you identify the data to collect.</p>
</blockquote>
</section>
<section id="path-model-2-weak-causal-ordering" class="slide level2">
<h2>Path Model 2: Weak Causal Ordering</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>The model depicted in this path diagram posits the following causal relationships:</p>
<ul>
<li>If academic ability and achievement are causally related, then academic ability is the cause of achievement.</li>
<li>If academic ability and motivation are causally related, then academic ability is the cause of motivation.</li>
<li>If motivation and achievement are causally related, then motivation is the cause of achievement.</li>
</ul>
</div></div>
</section>
<section id="estimating-path-coefficients-in-a-weak-causal-model" class="slide level2">
<h2>Estimating Path Coefficients in a Weak Causal Model</h2>
<p>Again, we would want to estimate the path coefficients shown in the diagram for the weak causal model. In causal models, the path coefficients are not necessarily the correlations. To find the path coefficients we need to use the <em>tracing rule</em>. The tracing rule indicates that:</p>
<blockquote>
<p>The correlation between two variables <em>X</em> and <em>Y</em> is equal to the sum of the possible products of all possible paths from each possible tracing from <em>X</em> to <em>Y</em>, with the following two exceptions:</p>
<ul>
<li>The same variable is not entered more than once in the same tracing.</li>
<li>A variable is not both entered and exited through an arrowhead.</li>
</ul>
</blockquote>
</section>
<section id="example-of-the-tracing-rule" class="slide level2 scrollable">
<h2>Example of the Tracing Rule</h2>
<p>As an example, consider all the tracings (routes) that allow us to start at the academic ability variable and go to the achievement variable in the path diagram at right.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>There are two possible tracings that conform to the tracing rule:</p>
<ol type="1">
<li>Start at the academic ability variable and take p1 to the achievement variable.</li>
<li>Start at the academic ability variable and take p2 to the motivation variable, then take p3 to the achievement variable.</li>
</ol>
</div></div>
</section>
<section id="example-of-the-tracing-rule-cntd." class="slide level2 scrollable">
<h2>Example of the Tracing Rule (cntd.)</h2>
<p>Similarly, we could have started at the achievement variable and determined the tracings to get to the academic ability variable:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<ol type="1">
<li>Start at the achievement variable and take p1 to the academic ability variable.</li>
<li>Start at the achievement variable and take p3 to the motivation variable, then take p2 to the academic ability variable.</li>
</ol>
</div></div>
</section>
<section id="important-note-regarding-the-tracing-rule" class="slide level2">
<h2>Important Note Regarding the Tracing Rule</h2>
<p>Note that when we are considering tracings, we do not have to worry about the direction of the arrow, only that there is a path we can trace. The only rule regarding arrowheads is that a variable can not be both entered and exited through an arrowhead.</p>
</section>
<section id="back-to-estimating-the-path-coeffients" class="slide level2">
<h2>Back to Estimating the Path Coeffients</h2>
<p>Each tracing yields a product of the path coefficents used in the tracing. Thus the first tracing is <span class="math inline">\(p1\)</span> (there is only one path, so the product is simply the path), and the second tracing yields <span class="math inline">\(p2 \times p3\)</span>. Since the tracing rule says that the correlation between academic ability and achievement is equal to the sum of the products yielded by the tracings, we know that:</p>
<p><span class="math display">\[
\begin{split}
r_{\mathrm{academic~ability,~ achievement}} &amp;= p1 + p2(p3) \\[1em]
.737 &amp;= p1 + p2(p3)
\end{split}
\]</span></p>
</section>
<section id="your-turn" class="slide level2">
<h2>Your Turn</h2>
<p>Use the tracing rule to write two more equations. The first equation should represent the correlation between motivation and achievement, and the second equation should represent the correlation between ability and motivation.</p>

<img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section id="check-your-work" class="slide level2 scrollable">
<h2>Check Your Work</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>To represent the correlation between motivation and achievement we have two potential tracings:</p>
<ol type="1">
<li>Start at the motivation and take p3 to the achievement variable.</li>
<li>Start at the motivation variable and take p2 to the academic ability variable, then take p1 to the achievement variable.</li>
</ol>
<p><span class="math display">\[
\begin{split}
r_{\mathrm{motivation,~ achievement}} &amp;= p3 + p2(p1) \\[1em]
.255&amp;= p3 + p2(p1)
\end{split}
\]</span></p>
</div></div>
</section>
<section id="check-your-work-1" class="slide level2 scrollable">
<h2>Check Your Work</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>To represent the correlation between academic ability and motivation we have one tracing:</p>
<ol type="1">
<li>Start at the academic ability and take p2 to the motivation variable.</li>
</ol>
<p><span class="math display">\[
\begin{split}
r_{\mathrm{academic~ability,~ motivation}} &amp;= p2 \\[1em]
.205&amp;= p2
\end{split}
\]</span></p>
<p>QUESTION: Why can’t we use the tracing that takes p1 from academic ability to achievement then takes p3 to motivation??</p>
</div></div>
</section>
<section id="solving-for-p1-p2-and-p3" class="slide level2">
<h2>Solving for p1, p2, and p3</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Equations</a></li><li><a href="#tabset-1-2">p1</a></li><li><a href="#tabset-1-3">p3</a></li><li><a href="#tabset-1-4">Back to p1</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>We now have three equations with three unknowns. We can solve this system of equations to find p1, p2, and p3.</p>
<p><span class="math display">\[
\begin{split}
.737 &amp;= p1 + p2(p3) \\[1em]
.255 &amp;= p3 + p2(p1) \\[1em]
.205 &amp;= p2
\end{split}
\]</span></p>
</div>
<div id="tabset-1-2">
<p>Substitute in .205 for p2 in the first equation and solve for p1.</p>
<p><span class="math display">\[
\begin{split}
.737 &amp;= p1 + p2(p3) \\[1em]
.737 &amp;= p1 + .205(p3) \\[1em]
p1 &amp;= .737 - .205(p3)
\end{split}
\]</span></p>
</div>
<div id="tabset-1-3">
<p>Now substitute .205 in for p2 and <span class="math inline">\(.737 - .205(p3)\)</span> in for p1 in the second equation and solve for p3.</p>
<p><span class="math display">\[
\begin{split}
.255 &amp;= p3 + p2(p1) \\[1em]
.255 &amp;= p3 + .205(.737 - .205(p3)) \\[1em]
.255 &amp;= p3 + 0.151085 - 0.042025(p3) \\[1em]
0.103915 &amp;= 0.957975(p3) \\[1em]
p3 &amp;= .108
\end{split}
\]</span></p>
</div>
<div id="tabset-1-4">
<p>Now substitute .205 in for p2 and .108 in for p3 in the first equation and solve for p1.</p>
<p><span class="math display">\[
\begin{split}
.737 &amp;= p1 + p2(p3) \\[1em]
.737 &amp;= p1 + .205(.108) \\[1em]
.737 &amp;= p1 + 0.02214 \\[1em]
p1 &amp;= .715
\end{split}
\]</span></p>
</div>
</div>
</div>
</section>
<section id="path-diagram-with-estimated-path-coefficients" class="slide level2">
<h2>Path Diagram with Estimated Path Coefficients</h2>

<img data-src="../img/path-analysis-notes/04-estimated-weak-causal-model.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section id="interpreting-path-coefficients" class="slide level2">
<h2>Interpreting Path Coefficients</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/04-estimated-weak-causal-model.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Path coefficients are <strong>standardized</strong> coefficients which can be interpreted similar to standardized regression coefficients.</p>
<ul>
<li>Given the adequacy of the path model, each 1-standard deviation increase in motivation increases achievement by .108 standard deviations, on average.</li>
<li>Given the adequacy of the path model, each 1-standard deviation increase in academic ability increases achievement by .715 standard deviations, on average.</li>
<li>Given the adequacy of the path model, each 1-standard deviation increase in academic ability increases motivation by .205 standard deviations, on average.</li>
</ul>
</div></div>
</section>
<section id="interpreting-path-coefficients-cntd." class="slide level2">
<h2>Interpreting Path Coefficients (cntd.)</h2>
<p>There are two things to note when we interpret path coefficients that are different from when we interpret regression coefficients.</p>
<ul>
<li>We include “given the adequacy of the model” in our interpretation. This is important because the values of the path coefficients absolutely depend on the weak causal model specified (i.e., how you draw the path diagram).</li>
<li>Because we are positing a causal relationship, we can use the causal type language in our interpretation. E.g., an increase in <em>X</em> leads to an increase in <em>Y</em>.</li>
</ul>
<p>Note also that the interpretation is not controlling for anything. These are simple relationships that we are interpreting.</p>
</section>
<section id="estimating-path-coefficients-via-regression" class="slide level2">
<h2>Estimating Path Coefficients via Regression</h2>
<div class="columns">
<p>We can also find the path coefficients using regression rather than algebra. To determine the path coefficients in the weak causal model, we fit a set of regression models using the “causes” as predictors of any particular effect.</p><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/03-weak-causal-path.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>In our path diagram there are two effects, so we would need to fit two separate regression models. The syntax for these models would be:</p>
<pre><code>achievement ~ 0 + ability + motivation
motivation ~ 0 + ability</code></pre>
</div></div>
</section>
<section id="estimating-path-coefficients-via-regression-cntd." class="slide level2">
<h2>Estimating Path Coefficients via Regression (cntd.)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="co"># Path coefficients for paths to achievement</span></span>
<span id="cb7-2"><a></a><span class="fu">tidy</span>(<span class="fu">lm</span>(achievement <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> ability <span class="sc">+</span> motivation, <span class="at">data =</span> sim_dat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term       estimate std.error statistic   p.value
  &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 ability       0.715    0.0216     33.1  8.26e-163
2 motivation    0.108    0.0216      5.02 5.97e-  7</code></pre>
</div>
</div>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="co"># Path coefficient for paths to motivation</span></span>
<span id="cb9-2"><a></a><span class="fu">tidy</span>(<span class="fu">lm</span>(motivation <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> ability, <span class="at">data =</span> sim_dat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 5
  term    estimate std.error statistic  p.value
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 ability    0.205    0.0310      6.62 5.85e-11</code></pre>
</div>
</div>
</section>
<section id="residual-variation" class="slide level2">
<h2>Residual Variation</h2>
<p>Even if the causal relationships were specified correctly, the model likely does not include ALL of the causes for motivation and achievement. There is also unaccounted for variation due to random variation and measurement error. To account for these three sources of variation in the weak causal model, we will add an error term to eavch of the effects in the path model.</p>

<img data-src="../img/path-analysis-notes/05-est-weak-causal-model-errors.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section id="estimating-residual-variation" class="slide level2">
<h2>Estimating Residual Variation</h2>
<p>We can also estimate the path coefficients for the error terms. These path coefficients are computed as,</p>
<p><span class="math display">\[
\epsilon_k = \sqrt{1 - R^2_k}
\]</span> where, <span class="math inline">\(R^2_k\)</span> is the <span class="math inline">\(R^2\)</span>-value from the regression model fitted to compute the initial path coefficients.</p>
</section>
<section id="estimating-residual-variation-cntd." class="slide level2">
<h2>Estimating Residual Variation (cntd.)</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="co"># Path coefficients for error term on achievement</span></span>
<span id="cb11-2"><a></a><span class="fu">glance</span>(<span class="fu">lm</span>(achievement <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> ability <span class="sc">+</span> motivation, <span class="at">data =</span> sim_dat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic   p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.554         0.554 0.668      621. 6.36e-176     2 -1014. 2034. 2049.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">sqrt</span>(<span class="dv">1</span> <span class="sc">-</span> .<span class="dv">554</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6678323</code></pre>
</div>
</div>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="co"># Path coefficient for error term on motivation</span></span>
<span id="cb15-2"><a></a><span class="fu">glance</span>(<span class="fu">lm</span>(motivation <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> ability, <span class="at">data =</span> sim_dat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1    0.0420        0.0411 0.979      43.8 5.85e-11     1 -1397. 2798. 2808.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">sqrt</span>(<span class="dv">1</span> <span class="sc">-</span> .<span class="dv">0420</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9787747</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/06-complete-est-weak-causal-model.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="how-do-we-draw-path-diagram" class="slide level2">
<h2>How Do We Draw Path Diagram?</h2>
<ul>
<li>Theory/prior research</li>
<li>Logic/expert understanding/common sense</li>
</ul>
<p>We also need to pay attention to <strong>time precedence</strong>. Cause does not operate backward in time. In our example, academic ability is well-documented as something that does not change after grade school. Thus, it would precede motivation and achievement in time.</p>
</section>
<section id="a-little-more-about-cause" class="slide level2">
<h2>A Little More About Cause</h2>
<p>What do we mean when we say “<em>X</em> causes <em>Y</em>”? Contrary to popular belief, we do not mean that changing <em>X</em> has a direct, and immediate change on <em>Y</em>. For example, it is now well known that smoking causes lung cancer.</p>

<img data-src="../img/path-analysis-notes/09-smoking-cancer.png" class="quarto-figure quarto-figure-center r-stretch" style="width:60.0%"><p>But, not everyone who smokes ends up getting lung cancer.</p>
</section>
<section id="a-little-more-about-cause-cntd." class="slide level2">
<h2>A Little More About Cause (cntd.)</h2>
<p>Instead, cause is a probabilistic statement about the world. When we say smoking causes lung cancer what we mean, statistically, is that smoking increases the probability of developing lung cancer.</p>
<p><br></p>
<p>Moreover, this increased probability is due to smoking, and not something else.</p>
</section>
<section id="requirements-for-cause" class="slide level2 scrollable">
<h2>Requirements for Cause</h2>
<p>There are three primary requirements for a causal relationship between <em>X</em> and <em>Y</em>.</p>
<ol type="1">
<li>There must be a relationship between <em>X</em> and <em>Y</em>. (Correlation is a necessary component of causation.)</li>
<li>Time precedence (Causes must occur prior to effects.)</li>
<li>Relationship must not be spurious.</li>
</ol>
</section>
<section id="including-time-precedence-in-the-path-diagram" class="slide level2 scrollable">
<h2>Including Time Precedence in the Path Diagram</h2>
<p>Time precedence is often reflected in the orientation of the model. Variables that occur earlier in time are oriented further to the left side of the diagram than variables that occur later.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/09-smoking-cancer.png" class="quarto-figure quarto-figure-center" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>In the smoking example, to be considered the cause for lung cancer, smoking has to occur prior to the onset of lung cancer.<sup>1</sup></p>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Note that the top–bottom orientation typically doesn’t mean anything—it is just used for aesthetics in the layout.</p></li></ol></aside></section>
<section id="including-time-precedence-in-the-path-diagram-cntd." class="slide level2">
<h2>Including Time Precedence in the Path Diagram (cntd.)</h2>
<p>In our path diagram relating academic ability and motivation to acheivement, academic ability is furthest to the left (it occurs earliest), followed by motivation, and then academic achievement.</p>

<img data-src="../img/path-analysis-notes/06-complete-est-weak-causal-model.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section id="common-cause" class="slide level2">
<h2>Common Cause</h2>
<p>A common cause is a variable that is a cause of both <em>X</em> and <em>Y</em> which accounts for the relationship between <em>X</em> and <em>Y</em>. Consider the following example where we want to look at the causal impact of participation in Head Start programs on academic achievement.</p>

<img data-src="../img/path-analysis-notes/07-head-start-achievment.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"><p>In practice, the path coefficient tends to be negative. That is Head Start participants tend to have lower academic achievement than their non-Head Start peers.</p>
</section>
<section id="common-cause-cntd." class="slide level2">
<h2>Common Cause (cntd.)</h2>
<p>A common cause of both Head Start participation and academic achievement is poverty. This is shown below.</p>

<img data-src="../img/path-analysis-notes/08-head-start-achievment-poverty.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"><p>Once we include poverty as a common cause, the path coefficient between Head Start participation and academic achievement switches direction. That is, after including poverty in the path model, Head Start participants tend to have higher academic achievement than their non-Head Start peers. This is akin to how effects in a regression model might change after we control for other predictors.</p>
</section>
<section id="common-cause-cntd.-1" class="slide level2">
<h2>Common Cause (cntd.)</h2>
<p>In order to meet the third causal requirement, we need to include ALL common causes in the model. This requirement is the hardest to prove.</p>
</section>
<section id="non-recursive-models" class="slide level2">
<h2>Non-Recursive Models</h2>
<p>In the path diagrams we have looked at so far, the causal paths have gone in only one direction; there is a distinct cause and effect. The error terms on the effect variables are also all uncorrelated. These are called <em>recursive models</em>. It is possible for variables to effect each other (e.g., predator–prey relationships), or for the error terms to be correlated. This is called a <em>non-recursive model</em>.</p>

<img data-src="../img/path-analysis-notes/11-nonrecursive-model.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section id="under-identified-models" class="slide level2">
<h2>Under-Identified Models</h2>
<p>The problem with estimating the path coefficients in the non-recursive model is it is under-identified. In our predator–prey model, we need to estimate four path coefficients, but only have three correlations (equations) from which to do so. We can’t solve this without adding additional constraints!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/path-analysis-notes/12-nonrecursive-model-paths.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><span class="math display">\[
\begin{split}
r_{\mathrm{H,W}} &amp;= p1 + p2(p4) \\[1em]
r_{\mathrm{H,R}} &amp;= p2 + p1(p3) \\[1em]
r_{\mathrm{H,W}} &amp;= p3 + p4 + p1(p2)
\end{split}
\]</span></p>
</div></div>
</section>
<section id="over-identified-models" class="slide level2">
<h2>Over-Identified Models</h2>


</section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>